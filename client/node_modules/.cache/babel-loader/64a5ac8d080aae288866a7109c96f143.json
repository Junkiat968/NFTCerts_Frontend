{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jaspz\\\\Documents\\\\GitHub\\\\ITP\\\\Blockchain-Trusted-Model\\\\client\\\\src\\\\contexts\\\\ContractProvider.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState, useMemo } from \"react\";\nimport { ethers } from 'ethers';\nimport { base64ContractAddress, base64ContractABI, sitnftContractAddress, sitnftContractABI } from '../utils/constants';\nimport { useRef } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  ethereum\n} = window;\nexport const ContractContext = /*#__PURE__*/React.createContext();\nconst provider = new ethers.providers.Web3Provider(ethereum);\nconst signer = provider.getSigner();\n/** Get SITNFT Contract Instance*/\n\nconst getSITNFTContract = () => {\n  const sitnftContract = new ethers.Contract(sitnftContractAddress, sitnftContractABI, signer);\n  console.log(provider, signer, sitnftContract);\n  return sitnftContract;\n};\n\nexport const ContractProvider = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  // Mint Constants \n  const [mintData, setMintData] = useState({\n    moduleCode: \"\",\n    testType: \"\",\n    grade: \"\",\n    trimester: \"\",\n    recipient: \"\"\n  });\n  const [mintResult, setMintResult] = useState(''); // Admin Constants\n\n  const [isAdminResult, setIsAdminResult] = useState('');\n  const [formData, setFormData] = useState({\n    addressInput: \"\"\n  }); // Faculty Constants\n\n  const [isFacultyResult, setIsFacultyResult] = useState(''); // Admin Functions\n\n  const functIsAdmin = async () => {\n    try {\n      const {\n        addressInput\n      } = formData;\n      const sitnftInstance = getSITNFTContract();\n      console.log(addressInput);\n      const result = await sitnftInstance.isAdmin(addressInput.toString());\n      setIsAdminResult(result);\n      return result;\n    } catch (err) {\n      setIsAdminResult(err);\n      console.error(err);\n      return err;\n    }\n  };\n\n  const makeAdmin = async () => {\n    const {\n      addressInput\n    } = formData;\n    const sitnftInstance = getSITNFTContract();\n\n    try {\n      const result = await sitnftInstance.addAdmin(addressInput.toString());\n      console.log(result);\n      functIsAdmin();\n    } catch (err) {\n      setIsAdminResult(err);\n      console.error(err);\n      return err;\n    }\n  };\n\n  const removeAdmin = async () => {\n    const {\n      addressInput\n    } = formData;\n    const sitnftInstance = getSITNFTContract();\n\n    try {\n      const result = await sitnftInstance.removeAdmin(addressInput.toString());\n      console.log(result);\n      functIsAdmin();\n    } catch (err) {\n      setIsAdminResult(err);\n      console.error(err);\n      return err;\n    }\n  };\n\n  function handleMint(evt) {\n    const value = evt.target.value;\n    setMintData({ ...mintData,\n      [evt.target.name]: value\n    });\n  } // Mint Functions\n\n\n  const functMint = async () => {\n    const {\n      moduleCode,\n      testType,\n      grade,\n      trimester,\n      recipient\n    } = mintData;\n    const sitnftInstance = getSITNFTContract();\n\n    try {\n      console.log(moduleCode, testType, grade, trimester, recipient);\n      const result = await sitnftInstance.mint(moduleCode, testType, grade, trimester, recipient);\n      setMintResult(result);\n      return result;\n    } catch (err) {\n      console.error(err);\n      setMintResult(err);\n      return err;\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(ContractContext.Provider, {\n    value: {\n      functIsAdmin,\n      makeAdmin,\n      removeAdmin,\n      handleChange,\n      formData,\n      isAdminResult,\n      // \n      functMint,\n      mintData,\n      mintResult,\n      handleMint\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 128,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ContractProvider, \"wZgr0en6j+cwiSNXLsj14aoHsOs=\");\n\n_c = ContractProvider;\n\nvar _c;\n\n$RefreshReg$(_c, \"ContractProvider\");","map":{"version":3,"names":["React","useEffect","useState","useMemo","ethers","base64ContractAddress","base64ContractABI","sitnftContractAddress","sitnftContractABI","useRef","ethereum","window","ContractContext","createContext","provider","providers","Web3Provider","signer","getSigner","getSITNFTContract","sitnftContract","Contract","console","log","ContractProvider","children","mintData","setMintData","moduleCode","testType","grade","trimester","recipient","mintResult","setMintResult","isAdminResult","setIsAdminResult","formData","setFormData","addressInput","isFacultyResult","setIsFacultyResult","functIsAdmin","sitnftInstance","result","isAdmin","toString","err","error","makeAdmin","addAdmin","removeAdmin","handleMint","evt","value","target","name","functMint","mint","handleChange"],"sources":["C:/Users/jaspz/Documents/GitHub/ITP/Blockchain-Trusted-Model/client/src/contexts/ContractProvider.jsx"],"sourcesContent":["import React, { useEffect, useState, useMemo } from \"react\";\r\nimport { ethers } from 'ethers';\r\nimport {\r\n    base64ContractAddress,\r\n    base64ContractABI,\r\n    sitnftContractAddress,\r\n    sitnftContractABI\r\n} from '../utils/constants';\r\nimport { useRef } from \"react\";\r\nconst { ethereum } = window;\r\n\r\nexport const ContractContext = React.createContext();\r\n\r\nconst provider = new ethers.providers.Web3Provider(ethereum);\r\nconst signer = provider.getSigner();\r\n\r\n/** Get SITNFT Contract Instance*/\r\nconst getSITNFTContract = () => {\r\n    const sitnftContract = new ethers.Contract(sitnftContractAddress, sitnftContractABI, signer);\r\n    console.log(provider, signer, sitnftContract);\r\n    return sitnftContract;\r\n}\r\n\r\nexport const ContractProvider = ({ children }) => {\r\n    // Mint Constants \r\n    const [mintData, setMintData] = useState({\r\n        moduleCode: \"\",\r\n        testType: \"\",\r\n        grade: \"\",\r\n        trimester: \"\",\r\n        recipient: \"\"\r\n    });\r\n    const [mintResult, setMintResult] = useState('');\r\n    // Admin Constants\r\n    const [isAdminResult, setIsAdminResult] = useState('');\r\n    const [formData, setFormData] = useState({ addressInput: \"\" });\r\n\r\n    // Faculty Constants\r\n    const [isFacultyResult, setIsFacultyResult] = useState('');\r\n\r\n\r\n    // Admin Functions\r\n    const functIsAdmin = async () => {\r\n        try {\r\n            const { addressInput } = formData;\r\n            const sitnftInstance = getSITNFTContract();\r\n            console.log(addressInput);\r\n            const result = await sitnftInstance.isAdmin((addressInput).toString());\r\n            setIsAdminResult(result);\r\n            return result;\r\n        } catch (err) {\r\n            setIsAdminResult(err);\r\n            console.error(err);\r\n            return err;\r\n        }\r\n    }\r\n    const makeAdmin = async () => {\r\n        const { addressInput } = formData;\r\n        const sitnftInstance = getSITNFTContract();\r\n        try {\r\n            const result = await sitnftInstance.addAdmin((addressInput).toString());\r\n            console.log(result);\r\n            functIsAdmin();\r\n        } catch (err) {\r\n            setIsAdminResult(err);\r\n            console.error(err);\r\n            return err;\r\n        }\r\n    }\r\n    const removeAdmin = async () => {\r\n        const { addressInput } = formData;\r\n        const sitnftInstance = getSITNFTContract();\r\n        try {\r\n            const result = await sitnftInstance.removeAdmin((addressInput).toString());\r\n            console.log(result);\r\n            functIsAdmin();\r\n        } catch (err) {\r\n            setIsAdminResult(err);\r\n            console.error(err);\r\n            return err;\r\n        }\r\n    }\r\n\r\n    function handleMint(evt) {\r\n        const value = evt.target.value;\r\n        setMintData({\r\n            ...mintData,\r\n            [evt.target.name]: value\r\n        });\r\n    }\r\n\r\n    // Mint Functions\r\n    const functMint = async () => {\r\n        const {\r\n            moduleCode,\r\n            testType,\r\n            grade,\r\n            trimester,\r\n            recipient\r\n        } = mintData;\r\n\r\n        const sitnftInstance = getSITNFTContract();\r\n        try {\r\n            console.log(\r\n                moduleCode,\r\n                testType,\r\n                grade,\r\n                trimester,\r\n                recipient\r\n            );\r\n            const result = await sitnftInstance.mint(\r\n                moduleCode,\r\n                testType,\r\n                grade,\r\n                trimester,\r\n                recipient\r\n            );\r\n            setMintResult(result);\r\n            return result;\r\n        } catch (err) {\r\n            console.error(err);\r\n            setMintResult(err);\r\n            return err;\r\n        }\r\n    }\r\n\r\n    return (\r\n        <ContractContext.Provider\r\n            value={{\r\n                functIsAdmin,\r\n                makeAdmin,\r\n                removeAdmin,\r\n                handleChange,\r\n                formData,\r\n                isAdminResult,\r\n                // \r\n                functMint,\r\n                mintData,\r\n                mintResult,\r\n                handleMint\r\n            }}>\r\n            {children}\r\n        </ContractContext.Provider >\r\n    );\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}