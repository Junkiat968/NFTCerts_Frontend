{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/jaspz/Documents/GitHub/ITP/Blockchain-Trusted-Model/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/jaspz/Documents/GitHub/ITP/Blockchain-Trusted-Model/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/jaspz/Documents/GitHub/ITP/Blockchain-Trusted-Model/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import useEth from\"../../contexts/EthContext/useEth\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ContractBtns(_ref){var setValue=_ref.setValue;var _useEth=useEth(),_useEth$state=_useEth.state,contract=_useEth$state.contract,accounts=_useEth$state.accounts;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),inputValue=_useState2[0],setInputValue=_useState2[1];var handleInputChange=function handleInputChange(e){if(/^\\d+$|^$/.test(e.target.value)){setInputValue(e.target.value);}};var read=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var value;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return contract.methods.read().call({from:accounts[0]});case 2:value=_context.sent;setValue(value);case 4:case\"end\":return _context.stop();}}},_callee);}));return function read(){return _ref2.apply(this,arguments);};}();var write=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e){var newValue;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(e.target.tagName===\"INPUT\")){_context2.next=2;break;}return _context2.abrupt(\"return\");case 2:if(!(inputValue===\"\")){_context2.next=5;break;}alert(\"Please enter a value to write.\");return _context2.abrupt(\"return\");case 5:newValue=parseInt(inputValue);_context2.next=8;return contract.methods.write(newValue).send({from:accounts[0]});case 8:case\"end\":return _context2.stop();}}},_callee2);}));return function write(_x){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"btns\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:read,children:\"read()\"}),/*#__PURE__*/_jsxs(\"div\",{onClick:write,className:\"input-btn\",children:[\"write(\",/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"uint\",value:inputValue,onChange:handleInputChange}),\")\"]})]});}export default ContractBtns;","map":{"version":3,"names":["useState","useEth","ContractBtns","setValue","state","contract","accounts","inputValue","setInputValue","handleInputChange","e","test","target","value","read","methods","call","from","write","tagName","alert","newValue","parseInt","send"],"sources":["C:/Users/jaspz/Documents/GitHub/ITP/Blockchain-Trusted-Model/client/src/components/Demo/ContractBtns.jsx"],"sourcesContent":["import { useState } from \"react\";\nimport useEth from \"../../contexts/EthContext/useEth\";\n\nfunction ContractBtns({ setValue }) {\n  const { state: { contract, accounts } } = useEth();\n  const [inputValue, setInputValue] = useState(\"\");\n\n  const handleInputChange = e => {\n    if (/^\\d+$|^$/.test(e.target.value)) {\n      setInputValue(e.target.value);\n    }\n  };\n\n  const read = async () => {\n    const value = await contract.methods.read().call({ from: accounts[0] });\n    setValue(value);\n  };\n\n  const write = async e => {\n    if (e.target.tagName === \"INPUT\") {\n      return;\n    }\n    if (inputValue === \"\") {\n      alert(\"Please enter a value to write.\");\n      return;\n    }\n    const newValue = parseInt(inputValue);\n    await contract.methods.write(newValue).send({ from: accounts[0] });\n  };\n\n  return (\n    <div className=\"btns\">\n\n      <button onClick={read}>\n        read()\n      </button>\n\n      <div onClick={write} className=\"input-btn\">\n        write(<input\n          type=\"text\"\n          placeholder=\"uint\"\n          value={inputValue}\n          onChange={handleInputChange}\n        />)\n      </div>\n\n    </div>\n  );\n}\n\nexport default ContractBtns;\n"],"mappings":"2dAAA,OAASA,QAAT,KAAyB,OAAzB,CACA,MAAOC,OAAP,KAAmB,kCAAnB,C,wFAEA,QAASC,aAAT,MAAoC,IAAZC,SAAY,MAAZA,QAAY,CAClC,YAA0CF,MAAM,EAAhD,uBAAQG,KAAR,CAAiBC,QAAjB,eAAiBA,QAAjB,CAA2BC,QAA3B,eAA2BA,QAA3B,CACA,cAAoCN,QAAQ,CAAC,EAAD,CAA5C,wCAAOO,UAAP,eAAmBC,aAAnB,eAEA,GAAMC,kBAAiB,CAAG,QAApBA,kBAAoB,CAAAC,CAAC,CAAI,CAC7B,GAAI,WAAWC,IAAX,CAAgBD,CAAC,CAACE,MAAF,CAASC,KAAzB,CAAJ,CAAqC,CACnCL,aAAa,CAACE,CAAC,CAACE,MAAF,CAASC,KAAV,CAAb,CACD,CACF,CAJD,CAMA,GAAMC,KAAI,6FAAG,qKACST,SAAQ,CAACU,OAAT,CAAiBD,IAAjB,GAAwBE,IAAxB,CAA6B,CAAEC,IAAI,CAAEX,QAAQ,CAAC,CAAD,CAAhB,CAA7B,CADT,QACLO,KADK,eAEXV,QAAQ,CAACU,KAAD,CAAR,CAFW,sDAAH,kBAAJC,KAAI,2CAAV,CAKA,GAAMI,MAAK,6FAAG,kBAAMR,CAAN,0IACRA,CAAC,CAACE,MAAF,CAASO,OAAT,GAAqB,OADb,yEAIRZ,UAAU,GAAK,EAJP,2BAKVa,KAAK,CAAC,gCAAD,CAAL,CALU,yCAQNC,QARM,CAQKC,QAAQ,CAACf,UAAD,CARb,wBASNF,SAAQ,CAACU,OAAT,CAAiBG,KAAjB,CAAuBG,QAAvB,EAAiCE,IAAjC,CAAsC,CAAEN,IAAI,CAAEX,QAAQ,CAAC,CAAD,CAAhB,CAAtC,CATM,yDAAH,kBAALY,MAAK,6CAAX,CAYA,mBACE,aAAK,SAAS,CAAC,MAAf,wBAEE,eAAQ,OAAO,CAAEJ,IAAjB,oBAFF,cAME,aAAK,OAAO,CAAEI,KAAd,CAAqB,SAAS,CAAC,WAA/B,iCACQ,cACJ,IAAI,CAAC,MADD,CAEJ,WAAW,CAAC,MAFR,CAGJ,KAAK,CAAEX,UAHH,CAIJ,QAAQ,CAAEE,iBAJN,EADR,OANF,GADF,CAkBD,CAED,cAAeP,aAAf"},"metadata":{},"sourceType":"module"}